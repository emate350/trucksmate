<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Formspark + Uploadcare Example</title>
  </head>
  <body>
    <h1>Formspark + Uploadcare Example</h1>
    <form action="https://submit-form.com/your-form-id" method="POST">
      <label for="name">Name:</label>
      <input type="text" id="name" name="name"><br><br>
      <label for="email">Email:</label>
      <input type="email" id="email" name="email"><br><br>
      <label for="message">Message:</label>
      <textarea id="message" name="message"></textarea><br><br>
      <label for="attachment">Attachment:</label>
      <input type="hidden" role="uploadcare-uploader" name="attachment" data-images-only>
      <input type="submit" value="Submit">
    </form>
    
    <script src="https://ucarecdn.com/libs/widget/3.x/uploadcare.full.min.js"></script>
    <script>
      UPLOADCARE_PUBLIC_KEY = '73db3ec0e42e05c69d7f';
      var widget = uploadcare.Widget('[role=uploadcare-uploader]');
      widget.onUploadComplete(function(info) {
        var input = document.querySelector('input[name=attachment]');
        input.value = info.cdnUrl;
      });
    </script>

    <script>
      const form = document.querySelector('form');
      form.addEventListener('submit', async (event) => {
        event.preventDefault();
        const formData = new FormData(form);
        const response = await fetch('https://submit-form.com/N0wzHdLS', {
          method: 'POST',
          body: formData
        });
        if (response.ok) {
          alert('Form submitted successfully!');
        } else {
          alert('Form submission failed.');
        }
      });
    </script>
  </body>
</html>
